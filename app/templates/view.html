{% extends "base.html" %}

{% block title %}{{ donut.name }} - Donut Flavors{% endblock %}

{% block content %}
<div style="max-width: 600px; margin: 0 auto;">
    <h2 style="color: #d63384; font-size: 2rem; margin-bottom: 20px;">{{ donut.name }}</h2>

    <div style="background: #f8f9fa; border-radius: 15px; padding: 30px; margin-bottom: 20px;">
        <div style="margin-bottom: 20px;">
            <strong style="color: #6c757d;">Flavor:</strong>
            <span class="flavor" style="margin-left: 10px;">{{ donut.flavor }}</span>
        </div>

        <div style="margin-bottom: 20px;">
            <strong style="color: #6c757d;">Price:</strong>
            <span class="price" style="margin-left: 10px; font-size: 1.8rem;">${{ "%.2f"|format(donut.price) }}</span>
        </div>

        <div style="margin-bottom: 20px;">
            <strong style="color: #6c757d;">Status:</strong>
            <span class="status {{ 'available' if donut.is_available else 'unavailable' }}" style="margin-left: 10px;">
                {{ 'Available' if donut.is_available else 'Sold Out' }}
            </span>
        </div>

        <div style="margin-bottom: 20px;">
            <strong style="color: #6c757d;">Description:</strong>
            <p style="margin-top: 10px; color: #333; line-height: 1.6;">
                {{ donut.description or 'No description available.' }}
            </p>
        </div>

        <div>
            <strong style="color: #6c757d;">Added:</strong>
            <span style="margin-left: 10px; color: #333;">{{ donut.created_at.strftime('%B %d, %Y at %I:%M %p') }}</span>
        </div>
    </div>

    <div style="display: flex; gap: 15px; flex-wrap: wrap;">
        <a href="{{ url_for('edit_donut', donut_id=donut.id) }}" class="btn btn-primary">Edit Donut</a>
        <form action="{{ url_for('toggle_availability', donut_id=donut.id) }}" method="POST" style="display: inline;">
            <button type="submit" class="btn btn-success">
                {{ 'Mark Sold Out' if donut.is_available else 'Mark Available' }}
            </button>
        </form>
        <form action="{{ url_for('delete_donut', donut_id=donut.id) }}" method="POST" style="display: inline;"
              onsubmit="return confirm('Are you sure you want to delete this donut?');">
            <button type="submit" class="btn btn-danger">Delete</button>
        </form>
        <a href="{{ url_for('index') }}" class="btn btn-secondary">Back to Menu</a>
    </div>
</div>
{% endblock %}
